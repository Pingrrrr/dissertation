{% extends "base.html" %}

{% block title %}Dashboard - CS Strategy Platform{% endblock %}

{% block content %}

<script src=" https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js "></script>
{% load static %}



<div class="container mt-4">
    <section id="user-info" class="mt-4 bg-dark text-light rounded p-3">
        <div class="bgimg" width="600" height="600">
            <svg id="minimap" class="minimap" width="600" height="600">
            </svg>
        </div>
        <div class="container">
            <button id="playButton" class="btn btn-primary">Pause</button>
            <input id="progressBar" type="range" value="0" min="0" max="100">
        </div>

    </section>
    <ul id="killFeed" class="list-group">
        {% for kill in kills %}
        <button class="list-group-item list-group-item-action timestampComment bg-dark text-white" id="{{kill.tick}}">

            <strong>{{kill.round_time}}</strong> : {{kill.attacker_ID}}
            {% if kill.assister_ID %}
            + {{kill.assister_ID}}
            {% endif %}
            killed {{kill.victim_ID}} with {{kill.weapon}}

        </button>
        {% endfor %}
    </ul>
</div>


<div class="container mt-4">
    <h4>Comments</h4>
    {% include 'comments.html' with comments=comments %}
</div>

<script type="text/javascript">
    console.log('Round ID ' + '{{ round.id }}');
    var round_id = '{{ round.id }}';
    var map = '{{map}}';
</script>

<script src="{% static 'minimap.js' %}"></script>


<style type="text/css">
    .bgimg {
        background-image: url("{% static mapUrl %}");
        background-size: contain;
        background-repeat: no-repeat;
    }

    .highlight {
        border: 2px solid yellow;
        background-color: #ffffdd;
    }

    .comment {
        border-radius: 5px;
        padding: 10px;
        background-color: #2e2d2d;
        color: #ffffff;
        margin-bottom: 10px;
    }

    .comment strong {
        color: #ffd900;
    }

    .form-section {
        border-radius: 5px;
        padding: 20px;
        background-color: #3b3b3b;
        color: #ffffff;
        margin-top: 20px;
    }

    .form-control {
        border-radius: 0.25rem;
    }
</style>
{% endblock %}